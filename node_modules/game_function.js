(function() {
	// Abstract method? im so gud Kappa
	module.exports = {
		game : function()
		{
			return new Game();
		}
	};
}());

// New Player y am i doing this in german
function Spieler () 
{
	this.socket = 0;
	this.hp = 30;
	this.meeles = new Feld('meele');
	this.ranges = new Feld('ranges');
	this.hand = new Array();
	this.deck = new Deck;
}

Spieler.prototype.setID = function (id)
{
	this.socket = id;
}

Spieler.prototype.getID = function ()
{
	return this.socket;
}
function Game()
{
	this.player1 = new Spieler;
	this.player2 = new Spieler;
	this.rounds = 0;
}

Game.prototype.start = function ()
{
	// dont know if i actually need this ^.^
	console.log("the game is now starting kappa");
}

// -1 means nothing there
function Feld(type)
{
	this.type = type;
	this.size = [-1, -1,-1];
}

function Minion(name, attack, health, text)
{
	this.name = name;
	this.attack = attack;
	this.health = health;
	this.text = text;
}

function Spell(name, buffAttack, buffHealth, text)
{
	this.name = name;
	this.buffAttack = buffAttack;
	this.buffHealth = buffHealth;
	this.text = text;
}

// KEK...
function Deck()
{
	this.deck = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
				1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];
}

// TODO:	- Random Cards from Deck
//			- Remove Cards from Deck
//			- Put Cards in Hand
Spieler.prototype.draw = function (amount)
{
	received_cards = [0,0,1];
	this.hand.push(received_cards[0],received_cards[1],received_cards[2]);
	return received_cards;
}



// http://stackoverflow.com/questions/6274339/how-can-i-shuffle-an-array-in-javascript
function shuffle(a) {
    var j, x, i;
    for (i = a.length; i; i -= 1) {
        j = Math.floor(Math.random() * i);
        x = a[i - 1];
        a[i - 1] = a[j];
        a[j] = x;
    }
}
